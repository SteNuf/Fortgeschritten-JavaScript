<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      async function asyncFunction() {
        return 1;
      }

      async function main() {
        console.log("Erste Nachricht");
        let counter = 0;
        console.log(counter);
        let i = 0;
        while (i < 1000000000) {
          i++;
        }

        const result = await new Promise((resolve, reject) => {
          setTimeout(function () {
            console.log("Mittlere Nachricht");
            counter = 100;
            console.log("counter: " + counter);
            resolve(counter);
          }, 1000);
        });

        console.log("Result " + result);

        /*result
          .then((result) => {
            console.log("Result: " + result);
            return result + 1;
          })
          .then((result) => {
            console.log("Result: " + result);
          })
          .catch((error) => {
            console.log("Error Catch " + error);
          }); */

        const resultAwaitFunction = await asyncFunction();
        console.log("Async Funktion: " + resultAwaitFunction);

        //console.log(result);

        console.log("Zweite Nachricht");
        counter = 5;
        console.log(counter);
      }

      console.log("Start Nachricht");
      main();
      console.log("Ende der Nachricht");
    </script>
    <title>Asynchron</title>
  </head>
  <body></body>
</html>
